$(document).ready(function(){NumberModule.InitEvents(),StringModule.InitEvents(),ValidateModule.InitEvents(),Common.InitEvents()});var _msg={E001:{content:"必須項目です。",title:"Error",type:4},E002:{content:"メールが無効になります。",title:"Error",type:4},E005:{content:"{0}文字を超えて入力することはできません。",title:"Error",type:4}},MSG_NO={REQUIRED:"E001",EMAIL_FORMAT_RON:"E002",EXCEED_MAXLENGTH:"E005"},Notification=function(){var t="has-tooltip-class",e="has-tooltip-message",r="item-error",o="have-error",a=function(t,e){try{return this.each(function(a,n){try{if(""!==(t=StringModule.CastString(t))){var i=r;if(!$(this).hasClass(i))if(e=StringModule.CastString(e),$(this).addClass(i),$(this).css({border:"solid 1px #d9534f"}),""===e)$(this).AddTooltip(t);else{var s=$(this).parents("."+o);s.length>0&&s.append('<p class="msg-err" style="color: #ce4844; margin-bottom: 0px;">'+t+"</p>")}}}catch(t){return console.log("ItemError: "+t.message),!1}})}catch(t){return console.log("ItemError: "+t.message),this.each(function(t,e){})}},n=function(t){try{return this.each(function(r,o){try{$(this).attr(e,t).mouseover(function(t){s(t,$(this))}).focus(function(t){s(t,$(this))}).mouseout(function(t){l(t,$(this))}).blur(function(t){l(t,$(this))})}catch(t){return console.log("AddTooltip"+t.message),!1}})}catch(t){return console.log("AddTooltip"+t.message),this.each(function(t,e){})}},i=function(){try{return this.each(function(r,a){try{$(this).removeAttr(e).unbind("mouseover",s).unbind("focus",s).unbind("mouseout",l).unbind("blur",l),$(this).css({border:""}),$("#"+t).remove();var n=$(this).parents("."+o);n.length>0&&n.find(".msg-err").remove()}catch(t){return console.log("RemoveToolTip: "+t.message),!1}})}catch(t){return console.log("RemoveToolTip: "+t.message),this.each(function(t,e){})}},s=function(r,o){try{$("#"+t).length>0&&$("#"+t).remove();var a=StringModule.CastString(o.attr(e));if(""!==a){$("body").append('<p id="'+t+'"><span class="arrow"></span>'+a+"</p>");var n=$("#"+t).outerHeight(),i=$("#"+t).height(),s=$("#"+t).css("line-height"),l=parseInt(s)+n-i;$("#"+t).css({top:o.offset().top-l-10+"px",left:o.offset().left-l+20+"px",position:"absolute","z-index":"99998",color:"#fff",padding:"3px 10px","border-radius":"3px 4px 4px 3px","min-width":"100px","background-color":"#CE5454","white-space":"nowrap",margin:"0 0 5px"}),$("#"+t+" .arrow").css({"border-top":"5px solid #CE5454","border-right":"5px solid transparent","border-left":"5px solid transparent",content:'""',height:"0",left:"15px",position:"absolute",top:"26px",width:"0"});var c=o.parent();$("#"+t,c).fadeIn(300,null)}}catch(t){console.log("_tooltipMouseover: "+t.message)}},l=function(e,r){try{$(r).is(":focus")||$("#"+t,r.parents("body")).remove()}catch(t){console.log("_tooltipMouseout: "+t.message)}};return{InitItemError:function(){$.fn.ItemError=a,$.fn.AddTooltip=n,$.fn.RemoveError=i},TOOLTIP_ID:t,TOOLTIP_ATTR:e,STYLE_ERROR:r}}();Notification.InitItemError();var NumberModule=function(){var t=function(t){try{(!(t.keyCode>47&&t.keyCode<58||t.keyCode>95&&t.keyCode<106||116===t.keyCode||46===t.keyCode||35===t.keyCode||36===t.keyCode||37===t.keyCode||39===t.keyCode||8===t.keyCode||9===t.keyCode||t.shiftKey&&35===t.keyCode||t.shiftKey&&36===t.keyCode||t.ctrlKey)||t.shiftKey&&t.keyCode>47&&t.keyCode<58)&&t.preventDefault()}catch(t){return console.log("OnlyTypeNumber: "+t.message),!1}};return{InitEvents:function(){$(document).on("keydown","input.numeric",function(e){t(e)})},OnlyTypeNumber:t,ValidateNumber:function(t){try{return!(!/^-*[0-9]+$/.test(t)&&""!==t)}catch(t){console.log(t.message)}}}}(),StringModule=function(){var t=function(t){try{(!(t.keyCode>47&&t.keyCode<58||t.keyCode>95&&t.keyCode<106||t.keyCode>64&&t.keyCode<91||t.keyCode>96&&t.keyCode<123||116===t.keyCode||46===t.keyCode||35===t.keyCode||36===t.keyCode||37===t.keyCode||39===t.keyCode||8===t.keyCode||9===t.keyCode||109===t.keyCode||189===t.keyCode||190===t.keyCode||110===t.keyCode||t.shiftKey&&189===t.keyCode||t.shiftKey&&35===t.keyCode||t.shiftKey&&36===t.keyCode||t.ctrlKey)||t.shiftKey&&t.keyCode>47&&t.keyCode<58)&&t.preventDefault()}catch(t){return console.log("OnlyAlphabetKeydown: "+t.message),!1}},e=function(t){try{return null==t||""===t}catch(t){return console.log("IsNullOrEmpty: "+t.message),!0}};return{InitEvents:function(){$(document).on("keydown","input.alphabet",function(e){t(e)})},OnlyAlphabetKeydown:t,CastString:function(t){try{return e(t)?"":t.toString()}catch(t){return console.log("CastString: "+t.message),""}},IsNullOrEmpty:e}}(),ValidateModule=function(){var t=function(t){try{if(""===t)return!1;return/^[\w-.+]+@[a-zA-Z0-9_-]+?\.[a-zA-Z0-9._-]*$/.test(t)}catch(t){return console.log("IsEmail: "+t.message),!1}},e=function(t){try{return/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&\/\/=]*)?/gi.test(t)}catch(t){return console.log("IsURL: "+t.message),!1}},r=function(t){return!(!t.match(/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])$/)&&""!==t)},o=function(t){try{if(""===t)return!0;8===t.length&&(t=t.substring(0,2)+"/"+t.substring(2,4)+"/"+t.substring(6));return!!t.match(/^(31[\/.](0[13578]|1[02])[\/.]((19|[2-9][0-9])[0-9]{2}))|((29|30)[\/.](01|0[3-9]|1[0-2])[\/.](19|[2-9][0-9])[0-9]{2})|((0[1-9]|1[0-9]|2[0-8])[\/.](0[1-9]|1[0-2])[\/.](19|[2-9][0-9])[0-9]{2})|(29[\/.](02)[\/.](((19|[2-9][0-9])(04|08|[2468][048]|[13579][26]))|2000))$/)}catch(t){return console.log("IsDate: "+t.message),!1}},a=function(){try{$("."+Notification.STYLE_ERROR+":first").focus()}catch(t){console.log("FocusFirstError: "+t.message)}},n=function(t){try{"object"==typeof t?$.each(t,function(t,e){var r="#"+t;!0===e.attr.isClass&&(r="."+t),$(r).removeAttr(Notification.TOOLTIP_ATTR),$(r).removeClass(Notification.STYLE_ERROR)}):$(t).find("."+Notification.STYLE_ERROR).each(function(){$(this).removeAttr(Notification.TOOLTIP_ATTR),$(this).removeClass(Notification.STYLE_ERROR)}),$("#"+Notification.TOOLTIP_ID).remove()}catch(t){console.log("ClearAllError"+t.message)}};return{InitEvents:function(){$(document).on("blur","input, textarea",function(){""!==$(this).val()&&$(this).hasClass("required")&&$(this).attr(Notification.TOOLTIP_ATTR)===_msg[MSG_NO.REQUIRED].content&&$(this).RemoveError()}),$(document).on("blur","select",function(){NumberModule.ToNumber($(this).val())>0&&$(this).hasClass("required")&&$(this).attr(Notification.TOOLTIP_ATTR)===_msg[MSG_NO.REQUIRED].content&&$(this).RemoveError()})},IsURL:e,IsEmail:t,IsIPAddress:r,ValidateTime:function(t){return!(!t.match(/^(([0-1][0-9])|(2[0-3])):[0-5][0-9]$/)&&!t.match(/^(([0-1][0-9])|(2[0-3]))[0-5][0-9]$/)&&""!==t)},ValidateTimeFromTo:function(t,e,r,o){try{var a=!0;return""!==t.val()&&""!==e.val()&&""!==r.val()&&""!==o.val()&&(new Date(DateModule.ToUTCString(t.val(),e.val()))>new Date(DateModule.ToUTCString(r.val(),o.val()))?(a=!1,t.ItemError(_msg[MSG_NO.TIME_FROM_MUST_LESSER_TIME_TO].content),e.ItemError(_msg[MSG_NO.TIME_FROM_MUST_LESSER_TIME_TO].content),r.ItemError(_msg[MSG_NO.TIME_FROM_MUST_LESSER_TIME_TO].content),o.ItemError(_msg[MSG_NO.TIME_FROM_MUST_LESSER_TIME_TO].content)):(t.RemoveError(),e.RemoveError(),r.RemoveError(),o.RemoveError())),a}catch(t){return console.log("ValidateTimeFromTo: "+t.message),!1}},ValidateDateFromTo:function(t,e){try{var r=!0;return""!==t.val()&&""!==e.val()&&(new Date(DateModule.ToUTCString(t.val()))>new Date(DateModule.ToUTCString(e.val()))?(r=!1,t.ItemError(_msg[MSG_NO.TIME_FROM_MUST_LESSER_TIME_TO].content),e.ItemError(_msg[MSG_NO.TIME_FROM_MUST_LESSER_TIME_TO].content)):(t.RemoveError(),e.RemoveError())),r}catch(t){return console.log("ValidateDateFromTo: "+t.message),!1}},ValidateDate:o,Validate:function(i){try{return"object"==typeof i?function(i){try{var s=0;return n(i),$.each(i,function(a,n){var i=n.attr.class,l=n.attr.maxlength,c=n.attr.minlength,h=(n.attr.email,""),d="";if(void 0!==_msg&&void 0!==_msg[MSG_NO.EXCEED_MAXLENGTH]&&(h=_msg[MSG_NO.EXCEED_MAXLENGTH].content.replace("{0}",l)),void 0!==_msg&&void 0!==_msg[MSG_NO.NOT_ENOUGH_MIN_LENGTH]&&(d=_msg[MSG_NO.NOT_ENOUGH_MIN_LENGTH].content.replace("{1}",c)),n.type,"CKEditor"===n.type||n.attr.isCKEditor)try{var m=CKEDITOR.instances[a];null!=l&&l>0&&m.getData().length>l&&(s+=1,$(".cke_editor_"+m.name).ItemError(h)),null!=c&&c>0&&m.getData().length<c&&(s+=1,$(".cke_editor_"+m.name).ItemError(d)),/required/.test(i)&&0===m.getData().length&&(s+=1,$(".cke_editor_"+m.name).ItemError(_msg[MSG_NO.REQUIRED].content))}catch(t){console.log("ValidateCkeditor: "+t.message)}else{var u="#"+a;!0===n.attr.isClass&&(u="."+a),$("body").find(u).each(function(){if(!$(this).is(":disabled")&&"true"!==$(this).attr("not-check")){if(/required/.test(i)&&(""===$(this).val()||"select"===n.type&&0===NumberModule.ToNumber($(this).val()))&&($(this).ItemError(_msg[MSG_NO.REQUIRED].content),s++),void 0!==l||void 0!==c){var a=$(this).val();$(this).hasClass("money")&&(a=a.replace(/,/g,"")),$(this).hasClass("date")&&(a=a.replace(/\//g,"")),$(this).hasClass("time")&&(a=a.replace(/:/g,"")),a.length>l&&($(this).ItemError(h),s++),a.length<c&&($(this).ItemError(d),s++)}""===$(this).val()||!/email/.test(i)&&"email"!==n.type||t($(this).val())||($(this).ItemError(_msg[MSG_NO.EMAIL_FORMAT_RON].content),s++),""!==$(this).val()&&"date"===n.type&&(o($(this).val())||($(this).ItemError(_msg[MSG_NO.DATE_FORMAT_RON].content),s++)),""!==$(this).val()&&/url/.test(i)&&(e($(this).val())||($(this).ItemError(_msg[MSG_NO.URL_FORMAT_RON].content),s++)),""!==$(this).val()&&/ip_address/.test(i)&&(r($(this).val())||($(this).ItemError(_msg[MSG_NO.IP_ADDRESS_FORMAT_RON].content),s++)),/gt/.test(i)&&NumberModule.ToNumber($(this).val())<=NumberModule.ToNumber($(this).attr("gt"))&&($(this).ItemError(_msg[MSG_NO.VALUE_MUST_GEATER].content.replace("{2}",$(this).attr("gt"))),s++),/gz/.test(i)&&NumberModule.ToNumber($(this).val())>=NumberModule.ToNumber($(this).attr("gz"))&&($(this).ItemError(_msg[MSG_NO.VALUE_MUST_LESSER].content.replace("{3}",$(this).attr("gz"))),s++)}})}}),!(s>0&&(a(),1))}catch(t){console.log("_validateByObject: "+t.message)}}(i):function(i){try{var s=0;return n(i),$(i).find(".required").each(function(){if($(this).hasClass("isCKEditor")){var t=CKEDITOR.instances[$(this).attr("id")];0===t.getData().length&&(s+=1,$(".cke_editor_"+t.name).ItemError(_msg[MSG_NO.REQUIRED].content))}else{var e=$(this).val()+"";""!==e&&"0"!==e||($(this).ItemError(_msg[MSG_NO.REQUIRED].content),s++)}}),$(i).find("input[type=text],input[type=tel],input[type=password],input[type=email],textarea").each(function(){var t=$(this).attr("maxlength");if(null!=t&&t+""!=""){var e="";void 0!==_msg&&void 0!==_msg[MSG_NO.EXCEED_MAXLENGTH]&&(e=_msg[MSG_NO.EXCEED_MAXLENGTH].content.replace("{0}",t)),$(this).hasClass("isCKEditor")?(o=CKEDITOR.instances[$(this).attr("id")]).getData().length>t&&(s+=1,$(".cke_editor_"+o.name).ItemError(_msg[MSG_NO.msg_maxlength].content)):(val=$(this).val()+"",$(this).hasClass("money")&&(val=val.replace(/,/g,"")),$(this).hasClass("date")&&(val=val.replace(/\//g,"")),$(this).hasClass("time")&&(val=val.replace(/:/g,"")),val.length>t&&($(this).ItemError(e),s++))}var r=$(this).attr("minlength");if(null!=r&&r+""!=""){var o,a="";void 0!==_msg&&void 0!==_msg[MSG_NO.NOT_ENOUGH_MIN_LENGTH]&&(a=_msg[MSG_NO.NOT_ENOUGH_MIN_LENGTH].content.replace("{1}",r)),$(this).hasClass("isCKEditor")?(o=CKEDITOR.instances[$(this).attr("id")]).getData().length<r&&(s+=1,$(".cke_editor_"+o.name).ItemError(_msg[MSG_NO.msg_minlength].content)):(val=$(this).val()+"",$(this).hasClass("money")&&(val=val.replace(/,/g,"")),$(this).hasClass("date")&&(val=val.replace(/\//g,"")),$(this).hasClass("time")&&(val=val.replace(/:/g,"")),val.length<r&&($(this).ItemError(a),s++))}}),$(i).find("input[type=email],.email").each(function(){t($(this).val())||($(this).ItemError(_msg[MSG_NO.EMAIL_FORMAT_RON].content),s++)}),$(i).find(".date").each(function(){o($(this).val())||($(this).ItemError(_msg[MSG_NO.DATE_FORMAT_RON].content),s++)}),$(i).find(".url").each(function(){e($(this).val())||($(this).ItemError(_msg[MSG_NO.URL_FORMAT_RON].content),s++)}),$(i).find(".ip_address").each(function(){r($(this).val())||($(this).ItemError(_msg[MSG_NO.IP_ADDRESS_FORMAT_RON].content),s++)}),$(i).find(".gt").each(function(){NumberModule.ToNumber($(this).val())<=NumberModule.ToNumber($(this).attr("gt"))&&($(this).ItemError(_msg[MSG_NO.VALUE_MUST_GEATER].content.replace("{2}",$(this).attr("gt"))),s++)}),$(i).find(".gz").each(function(){NumberModule.ToNumber($(this).val())>=NumberModule.ToNumber($(this).attr("gz"))&&($(this).ItemError(_msg[MSG_NO.VALUE_MUST_LESSER].content.replace("{3}",$(this).attr("gz"))),s++)}),!(s>0&&(a(),1))}catch(t){console.log("_validateBySelector: "+t.message)}}(i)}catch(t){return console.log("Validate: "+t.message),!1}},FocusFirstError:a,ClearAllError:n}}(),Common=function(){var t=function(){try{$(':input:not([type="hidden"]), a:not([disabled="disabled"]):not([href=""])').each(function(t){$(this).attr("tabindex",t+1)})}catch(t){console.log("SetTabindex: "+t.message)}};return{InitEvents:function(){$(document).on("focus","input",function(){$(this).select()}),t()},InitItem:function(t){try{$.each(t,function(t,e){var r="#"+t;if(!0===e.attr.isClass&&(r="."+t),"CKEditor"===e.type||e.attr.isCKEditor)try{$(r).addClass("isCKEditor");var o=CKEDITOR.replace(t,{height:e.attr.height?e.attr.height:100});void 0!==e.attr.tabindex&&setTimeout(function(){$(".cke_editor_"+o.name+" iframe").attr("tabindex",e.attr.tabindex)},1e3),o.on("change",function(){$(".cke_editor_"+o.name).hasClass(Notification.STYLE_ERROR)&&$(".cke_editor_"+o.name).RemoveError(),$(r).val(CKEDITOR.instances[t].getData())})}catch(t){console.log("InitCkeditor: "+t.message)}else void 0!==e.attr.maxlength&&($(r).attr("maxlength",e.attr.maxlength),$(r).attr("value_0",e.attr.maxlength)),void 0!==e.attr.class&&$(r).addClass(e.attr.class),void 0!==e.attr.decimal&&$(r).attr("decimal",e.attr.decimal),void 0!==e.attr.readonly&&$(r).attr("readonly",e.attr.readonly),void 0!==e.attr.disabled&&$(r).attr("disabled",e.attr.disabled),void 0!==e.attr.tabindex&&$(r).attr("tabindex",e.attr.tabindex),void 0!==e.attr["not-check"]&&$(r).attr("not-check",e.attr["not-check"]),void 0!==e.attr.minlength&&($(r).attr("minlength",e.attr.minlength),$(r).attr("value_1",e.attr.minlength)),void 0!==e.attr.gt&&($(r).attr("gt",e.attr.gt),$(r).attr("value_2",e.attr.gt)),void 0!==e.attr.gz&&($(r).attr("gz",e.attr.gz),$(r).attr("value_3",e.attr.gz)),e.attr.noname||$(r).length>0&&$(r).attr("name",t)})}catch(t){console.log("InitItem: "+t.message)}},GetData:function(t){try{var e={};return $.each(t,function(t,r){try{("CKEditor"===r.type||r.attr.isCKEditor)&&(e[t]=CKEDITOR.instances[t].getData())}catch(t){console.log("getDataCkeditor: "+t.message)}var o="#"+t;!0===r.attr.isClass&&(o="."+t),"text"!==r.type&&"tel"!==r.type&&"textarea"!==r.type&&"password"!==r.type&&"select"!==r.type||(e[t]=$(o).val()),"checkbox"===r.type&&($(o).is(":checked")?e[t]=!0:e[t]=!1),"radio"===r.type&&$("input[name="+r.attr.name+"]").each(function(){$(this).is(":checked")&&(e[t]=$(this).val())}),"listcheckbox"===r.type&&(e[t]=[],$("input[name="+r.attr.name+"]").each(function(){$(this).is(":checked")&&e[t].push($(this).val())}))}),e}catch(t){return console.log("GetData: "+t.message),{}}},SetTabindex:t}}();